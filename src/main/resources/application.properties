spring.application.name=TedTalkAPI

# Server configuration
server.port=8080
server.servlet.context-path=/

# SSL Configuration
# server.ssl.key-store=classpath:keystore.jks
# server.ssl.key-store-password=changeit
# server.ssl.key-store-type=JKS
# server.ssl.key-alias=tomcat
# server.ssl.key-password=changeit

# Default profile
spring.profiles.active=dev

# Common database settings (overridden in profiles)
spring.datasource.url=jdbc:h2:mem:tedtalksdb
spring.datasource.username=sa
spring.datasource.password=

# Common JPA settings
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# H2 Console Configuration (Note: H2 console is servlet-based and may not work with WebFlux)
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.h2.console.settings.trace=false
spring.h2.console.settings.web-allow-others=true

# Common Flyway settings
spring.flyway.url=jdbc:h2:mem:tedtalksdb
spring.flyway.user=sa
spring.flyway.password=

# Common logging
logging.level.root=INFO

# CSV Import Configuration
csv.file.location=classpath:iO-Data-Java assessment-tedtalk-data.csv

# SpringDoc OpenAPI Configuration
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.url=/v3/api-docs
springdoc.packagesToScan=org.tedtalk.api.controller
springdoc.pathsToMatch=/**
# Disable default welcome page to avoid conflicts
springdoc.swagger-ui.disable-swagger-default-url=false

# CORS Configuration
spring.webflux.cors.allowed-origins=*
spring.webflux.cors.allowed-methods=*
spring.webflux.cors.allowed-headers=*

# ==========================================
# Actuator Configuration
# ==========================================
# Enable all actuator endpoints
management.endpoints.web.exposure.include=health,info,metrics,prometheus,env,loggers

# Health endpoint configuration
management.endpoint.health.show-details=always
management.endpoint.health.probes.enabled=true
management.health.defaults.enabled=true

# Enable Kubernetes-style health probes
management.health.livenessState.enabled=true
management.health.readinessState.enabled=true

# Customize health groups for Kubernetes
management.endpoint.health.group.liveness.include=livenessState,ping
management.endpoint.health.group.readiness.include=readinessState,db,diskSpace

# Show components in health endpoint
management.endpoint.health.show-components=always

# Actuator base path (optional, keeps endpoints organized)
management.endpoints.web.base-path=/actuator

# Info endpoint configuration
management.info.env.enabled=true
management.info.java.enabled=true
management.info.os.enabled=true

# Application info
info.app.name=TedTalk API
info.app.description=REST API for managing and analyzing TED Talk data
info.app.version=1.0.0-SNAPSHOT
info.app.encoding=@project.build.sourceEncoding@
info.app.java.version=@java.version@
spring.webflux.cors.allow-credentials=true

